(i32[] a, i32[] b)dot(i32? res)
{
    i32 t, sum;
    sum <- t <- 0;
    while t < 3
    {
        sum <- sum + a[t] * b[t];
        t <- t + 1;
    }
    res <- sum;
}

[export:yes]
(i32 x)mul(i32? res)
{
    i32[] a, b;
    a <- new i32[](3);
    b <- new i32[](3);
    a[0] <- 2;
    a[1] <- 4;
    a[2] <- 1;
    b[0] <- -1;
    b[1] <- 7;
    b[2] <- -3;
    (a, b)dot(tmp);
    res <- ?tmp;
}

